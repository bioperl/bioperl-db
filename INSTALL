# $Id$

bioperl-db INSTALLATION

INSTALL THE RIGHT BIOPERL

You need at least Bioperl version 1.4* but 1.4 has a problem 
in the ontology IO code for parsing GO, version 1.5* is preferable. 
Versions earlier than 1.4 will not work. See http://bioperl.org
for instructions.


INSTALL BIOSQL

The bioperl-db package is designed to work with the BioSQL database.
Install the BioSQL package by following the instructions in its
INSTALL file. You can obtain the BioSQL package at www.open-bio.org. 
BioSQL requires a relational database, either Mysql, Oracle, or 
Postgres.


MAKE

Download the bioperl-db archive, then extract its contents. Example:

  >gunzip bioperl-db-<release-version>.tar.gz
  >tar xvf bioperl-db-<release-version>.tar
  >cd bioperl-db

where <release-version> is the current release. Note that at present
there is no versioned release and you will need to download bioperl-db
through CVS.

If you are on Windows, see the respective section at the end of this
document.

Otherwise, copy or rename t/DBHarness.conf.example to
t/DBHarness.biosql.conf and edit the file as needed. Then issue the
following commands from within bioperl-db/:

  >perl Makefile.PL
  >make
  >make test
  >make install

The 'make install' step may require that you have root privileges.


LOAD THE NCBI TAXONOMY

You should pre-load the NCBI taxonomy database using the
scripts/load_ncbi_taxonomy.pl script in the BioSQL package. 
Otherwise you will see errors from mis-parsed organisms when you 
attempt to load sequences.


LOAD SEQUENCE DATA

Most people will want to load sequence data into their BioSQL
databases. Use scripts/biosql/load_seqdatabase.pl in the bioperl-db
package to load sequences from sequence files. Do:

  >perldoc scripts/biosql/load_seqdatabase.pl

or

  >scripts/biosql/load_seqdatabase.pl --help

for more information.

This script has many options to flexibly deal with various update
scenarios. Do read the POD before running an update.


LOAD ONTOLOGIES

Use scripts/biosql/load_ontology.pl in the bioperl-db
package to load ontologies from flat files. Do:

  >perldoc scripts/biosql/load_ontology.pl

or

  >scripts/biosql/load_ontology.pl --help

for more information.

This script has many options to flexibly deal with various update
scenarios. Do read the POD before running an update. Also, some
ontologies maintain obsoleted terms, for instance the Gene
Ontology. Read the POD for possible options to deal with obsoleted
terms; this is relevant even when you load the ontology the first
time, as you may choose to keep obsoleted terms out of the database
from the start.


FEEDBACK

Write down any problems or praise and send them to 
bioperl-l@bioperl.org  ;-)


INSTALLING bioperl-db ON WINDOWS

The following is a report sent by Chris Fields, cjfields at uiuc.edu.
=========================================
I have installed bioperl-db on Windows XP without a problem (although
I plan on switching over to MacOSX within a year!).  Basically, here's
what I did:

1) Install Activestate's free Perl package (the latest version of Perl 5.8).

2) Using PPM, install Bioperl.  There are installation instructions
   for this on the website.

3) Install your database of choice.  I installed MySQL (which has a
   Windows installer).

4) Install the database interface modules (DBI and DBD-MySQL, both
   available through PPM).  Adding Randy Kobe's repository in PPM
   helps here, although it isn't necessary (it does help if you want
   other modules for bioperl, like GD).

5) Get BioSQL schema.  Judging by the error, you may be missing this
   or bioperl-db (which operates with BioSQL).

        a) Go to the CVS repository and download the bioperl-db
        package as tarball.

        b) Decompress the tarball and view the installation
        instructions.  This will tell you where to get BioSQL (hint:
        it's in the same CVS repository as well as the CVS mentioned
        in the installation files).

        c) Get the particular schema for your database.  This is
        located in biosql-schema/sql.

6) Install bioperl-db using nmake.  This worked well for me, although
   nmake is notoriously buggy sometimes.

        a) Using a shell (or command prompt for Windows users),
        migrate to the bioperl-db folder (which you decompressed
        above).

        b)  Type the following:

                perl Makefile.PL
                nmake
                nmake install

        c) You might get some errors here with nmake.  Don't panic
        (and remember your towel).  Okay, bad Douglas Adams humor...

        d)  You don't have nmake?!?  get the old nmake here:

http://download.microsoft.com/download/vc15/Patch/1.52/W95/EN-US/Nmake15.exe

        e) nmake also comes with MSVC++.  You don't have MSVC++?!?
        Don't panic yet, because...

        f) I've heard reports that make also works (using MinGW or
        other windows-ported tools), but I haven't tried these, so be
        warned.

7) create your database.

        mysqladmin -u root create bioseqdb

8) load the schema into your database.

        mysql -u root bioseqdb < biosqldb-mysql.sql

9) load the taxonomy database if needed (I think it's
   recommended). The script is in the biosql-schema/scripts folder.

Anything I'm missing?  I think I've listed almost everything.  I do
think Cygwin is a good alternative (the installation is exactly like
the instructions).

Chris
==========================================
